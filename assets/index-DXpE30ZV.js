import{r as t}from"./index-DoPwb1ER.js";var K=(e,i,a,u,m,l,d,h)=>{let c=document.documentElement,b=["light","dark"];function f(r){(Array.isArray(e)?e:[e]).forEach(y=>{let S=y==="class",C=S&&l?m.map(v=>l[v]||v):m;S?(c.classList.remove(...C),c.classList.add(l&&l[r]?l[r]:r)):c.setAttribute(y,r)}),k(r)}function k(r){h&&b.includes(r)&&(c.style.colorScheme=r)}function s(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)f(u);else try{let r=localStorage.getItem(i)||a,y=d&&r==="system"?s():r;f(y)}catch{}},M=["light","dark"],I="(prefers-color-scheme: dark)",N=typeof window>"u",P=t.createContext(void 0),z=e=>t.useContext(P)?t.createElement(t.Fragment,null,e.children):t.createElement(W,{...e}),V=["light","dark"],W=({forcedTheme:e,disableTransitionOnChange:i=!1,enableSystem:a=!0,enableColorScheme:u=!0,storageKey:m="theme",themes:l=V,defaultTheme:d=a?"system":"light",attribute:h="data-theme",value:c,children:b,nonce:f,scriptProps:k})=>{let[s,r]=t.useState(()=>J(m,d)),[y,S]=t.useState(()=>s==="system"?L():s),C=c?Object.values(c):l,v=t.useCallback(n=>{let o=n;if(!o)return;n==="system"&&a&&(o=L());let g=c?c[o]:o,A=i?$(f):null,w=document.documentElement,x=p=>{p==="class"?(w.classList.remove(...C),g&&w.classList.add(g)):p.startsWith("data-")&&(g?w.setAttribute(p,g):w.removeAttribute(p))};if(Array.isArray(h)?h.forEach(x):x(h),u){let p=M.includes(d)?d:null,H=M.includes(o)?o:p;w.style.colorScheme=H}A==null||A()},[f]),E=t.useCallback(n=>{let o=typeof n=="function"?n(s):n;r(o);try{localStorage.setItem(m,o)}catch{}},[s]),T=t.useCallback(n=>{let o=L(n);S(o),s==="system"&&a&&!e&&v("system")},[s,e]);t.useEffect(()=>{let n=window.matchMedia(I);return n.addListener(T),T(n),()=>n.removeListener(T)},[T]),t.useEffect(()=>{let n=o=>{o.key===m&&(o.newValue?r(o.newValue):E(d))};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[E]),t.useEffect(()=>{v(e??s)},[e,s]);let O=t.useMemo(()=>({theme:s,setTheme:E,forcedTheme:e,resolvedTheme:s==="system"?y:s,themes:a?[...l,"system"]:l,systemTheme:a?y:void 0}),[s,E,e,y,a,l]);return t.createElement(P.Provider,{value:O},t.createElement(_,{forcedTheme:e,storageKey:m,attribute:h,enableSystem:a,enableColorScheme:u,defaultTheme:d,value:c,themes:l,nonce:f,scriptProps:k}),b)},_=t.memo(({forcedTheme:e,storageKey:i,attribute:a,enableSystem:u,enableColorScheme:m,defaultTheme:l,value:d,themes:h,nonce:c,scriptProps:b})=>{let f=JSON.stringify([a,i,l,e,h,d,u,m]).slice(1,-1);return t.createElement("script",{...b,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${K.toString()})(${f})`}})}),J=(e,i)=>{if(N)return;let a;try{a=localStorage.getItem(e)||void 0}catch{}return a||i},$=e=>{let i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(i)},1)}},L=e=>(e||(e=window.matchMedia(I)),e.matches?"dark":"light");export{z as J};
